<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Top 12 Crypto Portfolio Tracker</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
body {
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  background: url('https://www.shutterstock.com/image-illustration/closeup-golden-bitcoin-btc-cryptocurrency-600nw-1965261655.jpg') no-repeat center center fixed;
  background-size: cover;
  color: #fff; /* all text white */
}
header {
  text-align: center;
  padding: 2rem 1rem;
  background-color: rgba(0,0,0,0.5);
  box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}
header h1 { 
  margin: 0; 
  font-size: 2rem; 
  letter-spacing: 1px; 
  color: #fff;
}
main {
  max-width: 1200px;
  margin: 2rem auto;
  background-color: rgba(0,0,0,0.6); /* dark overlay so text is readable */
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.5);
  overflow-x: auto;
}
table { 
  width: 100%; 
  border-collapse: collapse; 
  margin-top: 1rem; 
}
th, td { 
  padding: 0.75rem; 
  text-align: center; 
  border-bottom: 1px solid rgba(255,255,255,0.3); 
  color: #fff;
}
th { 
  background-color: rgba(0,0,0,0.4); 
}
td { 
  background-color: rgba(0,0,0,0.2); 
  border-radius: 6px; 
  margin: 2px; 
}
input { 
  width: 60px; 
  padding: 0.3rem; 
  border-radius: 5px; 
  border: none; 
  background-color: #222; 
  color: #fff; 
}
button { 
  padding: 0.5rem 1rem; 
  margin-top: 1rem; 
  background:#ff9800; 
  border:none; 
  border-radius:5px; 
  cursor:pointer; 
  font-weight:bold;
  color: #000;
}
button:hover { 
  background:#e68900; 
}
footer { 
  text-align:center; 
  margin:2rem 0; 
  font-size:0.85rem; 
  opacity:0.8;
}
footer a { color:#ff9800; text-decoration:none; }
</style>
</head>
<body>
<header>
  <h1>Top 12 Crypto Portfolio Tracker</h1>
</header>
<main>
  <button id="refresh">Refresh Prices</button>
  <table id="portfolioTable">
    <thead>
      <tr>
        <th>Coin</th>
        <th>Price (USD)</th>
        <th>Your Amount</th>
        <th>Value (USD)</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <!-- Top 12 coins will be inserted here -->
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3"><strong>Total Portfolio Value</strong></td>
        <td id="totalValue">$0</td>
      </tr>
    </tfoot>
  </table>
</main>
<footer>
  Powered by <a href="https://www.coingecko.com/" target="_blank">CoinGecko API</a>
</footer>

<script>
const tableBody = document.getElementById('tableBody');
const totalValueEl = document.getElementById('totalValue');

let topCoins = [];

async function fetchTopCoins() {
  const url = 'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=12&page=1&sparkline=false';
  const res = await fetch(url);
  const data = await res.json();
  topCoins = data.map(c => ({
    id: c.id,
    name: c.name,
    symbol: c.symbol.toUpperCase(),
    price: c.current_price
  }));
  renderTable();
}

function renderTable() {
  tableBody.innerHTML = '';
  topCoins.forEach((coin, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${coin.name} (${coin.symbol})</td>
      <td id="price-${index}">$${coin.price.toLocaleString()}</td>
      <td><input type="number" id="amount-${index}" min="0" step="any" value="0"></td>
      <td id="value-${index}">$0</td>
    `;
    tableBody.appendChild(row);

    document.getElementById(`amount-${index}`).addEventListener('input', updateValues);
  });
}

function updateValues() {
  let total = 0;
  topCoins.forEach((coin, index) => {
    const amount = parseFloat(document.getElementById(`amount-${index}`).value) || 0;
    const value = amount * coin.price;
    document.getElementById(`value-${index}`).textContent = `$${value.toLocaleString(undefined, {maximumFractionDigits:2})}`;
    total += value;
  });
  totalValueEl.textContent = `$${total.toLocaleString(undefined, {maximumFractionDigits:2})}`;
}

async function refreshPrices() {
  const ids = topCoins.map(c => c.id).join(',');
  const url = `https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&precision=full`;
  const res = await fetch(url);
  const data = await res.json();
  topCoins.forEach((coin, index) => {
    coin.price = data[coin.id].usd;
    document.getElementById(`price-${index}`).textContent = `$${coin.price.toLocaleString()}`;
  });
  updateValues();
}

document.getElementById('refresh').addEventListener('click', refreshPrices);

fetchTopCoins();
</script>
</body>
</html>

